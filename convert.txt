import csv

INPUT_FILE = "products.csv"
OUTPUT_FILE = "output.csv"
MARKUP_RATE = 1.3  # 30%上乗せ

with open(INPUT_FILE, newline="", encoding="utf-8") as f:
    reader = csv.DictReader(f)
    products = list(reader)

with open(OUTPUT_FILE, "w", newline="", encoding="utf-8") as f:
    fieldnames = ["name", "original_price", "sell_price", "image_url"]
    writer = csv.DictWriter(f, fieldnames=fieldnames)
    writer.writeheader()

    for p in products:
        sell_price = int(int(p["price"]) * MARKUP_RATE)
        writer.writerow({
            "name": p["name"],
            "original_price": p["price"],
            "sell_price": sell_price,
            "image_url": p["image_url"]
        })

print("output.csv を作成しました")
